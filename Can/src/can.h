////////////////////////////////////////////////////////////////////////////////
// can.h
////////////////////////////////////////////////////////////////////////////////

#pragma once

class Can
{
 private:
  Can(uint32_t can, rcu_periph_enum rcu) ;
 public:
  static Can& can1() ;
  static Can& can0() ;

  void setup(uint8_t remap = 0) ;

  bool tx(uint32_t id, bool extId, const uint8_t *data, uint32_t size) ;
  bool rx(uint32_t &id, bool &extId, uint8_t *data, uint32_t &size) ;
  
 private:
  uint32_t        _can ;
  rcu_periph_enum _rcu ;
} ;

////////////////////////////////////////////////////////////////////////////////
// EOF
////////////////////////////////////////////////////////////////////////////////
