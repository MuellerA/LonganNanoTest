////////////////////////////////////////////////////////////////////////////////
// delay.cpp
////////////////////////////////////////////////////////////////////////////////

extern "C"
{
#include "gd32vf103.h"
}

#include "delay.h"

void delayMs(uint32_t ms)
{
  uint64_t t0 = get_timer_value() ;
  uint64_t d  = SystemCoreClock / 4 / 1000 * ms ; // sys tick is SytemCoreClock/4 Hz

  while ((get_timer_value() - t0) < d) ;
}

////////////////////////////////////////////////////////////////////////////////
// EOF
////////////////////////////////////////////////////////////////////////////////
